<?php
/* @var \Magento\Framework\View\Element\Html\Links $this */

$html = '';
if ($this->getLinks()) {
    $html .= ($this->hasCssClass() ? '
    <style>
    /* Place for operative applying styles */
    </style>' : '');
    $html .= '';
    $column[1] = '';
    $column[2] = '';
    $column[3] = '';
    $column[4] = '';
    $columnSmallSize[1] = '';
    $columnSmallSize[2] = '';
    $columnSmallSize[3] = '';
    $columnSmallSize[4] = '';

    $column[1] = '<ul' . ($this->hasCssClass() ? ' class="' . $this->escapeHtml(
                $this->getCssClass()
            ) . '"' : '') . '>';
    $column[2] =  '<ul' . ($this->hasCssClass() ? ' class="' . $this->escapeHtml(
                $this->getCssClass()
            ) . '"' : '') . '>';
    $column[3] = '<ul' . ($this->hasCssClass() ? ' class="' . $this->escapeHtml(
                $this->getCssClass()
            ) . '"' : '') . '>';
    $column[4] = '<ul' . ($this->hasCssClass() ? ' class="' . $this->escapeHtml(
                $this->getCssClass()
            ) . '"' : '') . '>';

    $columnSmallSize[1] = '<ul' . ($this->hasCssClass() ? ' class="' . $this->escapeHtml(
                $this->getCssClass()
            ) . '"' : '') . ' data-role="content">';
    $columnSmallSize[2] =  '<ul' . ($this->hasCssClass() ? ' class="' . $this->escapeHtml(
                $this->getCssClass()
            ) . '"' : '') . ' data-role="content">';
    $columnSmallSize[3] = '<ul' . ($this->hasCssClass() ? ' class="' . $this->escapeHtml(
                $this->getCssClass()
            ) . '"' : '') . ' data-role="content">';
    $columnSmallSize[4] = '<ul' . ($this->hasCssClass() ? ' class="' . $this->escapeHtml(
                $this->getCssClass()
            ) . '"' : '') . ' data-role="content">';
    $i = 0;
    foreach ($this->getLinks() as $link) {
        $column[(int)($i % 4) + 1] .= $this->renderLink($link);
        $columnSmallSize[(int)($i % 4) + 1] .= $this->renderLink($link);
        $i++;
    }
    $column[1] .= '</ul>';
    $column[2] .= '</ul>';
    $column[3] .= '</ul>';
    $column[4] .= '</ul>';

    $columnSmallSize[1] .= '</ul>';
    $columnSmallSize[2] .= '</ul>';
    $columnSmallSize[3] .= '</ul>';
    $columnSmallSize[4] .= '</ul>';

    /*
     * Standart footer - id prxgt-footer-links-block
     * Sticky block with links - id prxgt-footer-links-block-sticky
     * */
    $html .=
        '<div class="prxgt-footer-links-block" id="prxgt-footer-links-block"> <div class="prxgt-footer-links"><h4>Privacy</h4>'.$column[1].'</div>'.
        '<div class="prxgt-footer-links"><h4>Search</h4>'.$column[2].'</div>'.
        '<div class="prxgt-footer-links"><h4>Contacts</h4>'.$column[3].'</div>'.
        '<div class="prxgt-footer-links"><h4>Orders</h4>'.$column[4].'</div>
        </div>'.

        '<div class="prxgtBottomLine prxgtHidden" id="prxgt-footer-links-block-sticky">
        <div id="prxgt-footer-links-collapsible" data-mage-init=\'{"collapsible":{ "active": false, "animate": 200, "collapsible": true}}\' >
        <div data-role="title">
            <div>
             <div class="prxgt-footer-links"><h4>Privacy</h4></div>
             <div class="prxgt-footer-links"><h4>Search</h4></div>
             <div class="prxgt-footer-links"><h4>Contacts</h4></div>
             <div class="prxgt-footer-links"><h4>Orders</h4></div>
        <div class="prxgt-sticky-newsletter">'.
        //$this->getLayout()->createBlock("Magento\Framework\View\Element\Template")->setTemplate("Magento_Theme::html/test.phtml")->toHtml()
        $this->getLayout()->createBlock("Magento\Newsletter\Block\Subscribe")->setTemplate("Magento_Newsletter::subscribe.phtml")->toHtml()
        .'</div>
            </div>
        </div>
        <div data-role="content">
        <div class="prxgt-footer-links">'.$column[1].'</div>'.
        '<div class="prxgt-footer-links">'.$column[2].'</div>'.
        '<div class="prxgt-footer-links">'.$column[3].'</div>'.
        '<div class="prxgt-footer-links">'.$column[4].'</div>
        </div>
        </div>

          </div>
        <div id="prxgt-back-top-button" style="display: none;"><a title="Top" href="#top">Top</a></div>
        ';

    /* Links view for small resolution */
    $html .=
        '<div class="prxgt-footer-links-small-size-block"> <div class="prxgt-footer-links" data-mage-init=\'{"collapsible":{ "active": false, "animate": 200, "collapsible": true}}\' ><div data-role="title"><h4><a href="#">Privacy</a></h4></div>'.$columnSmallSize[1].'</div>'.
        '<div class="prxgt-footer-links" data-mage-init=\'{"collapsible":{ "active": false, "animate": 200, "collapsible": true}}\' ><div data-role="title"><h4><a href="#">Search</a></h4></div>'.$columnSmallSize[2].'</div>'.
        '<div class="prxgt-footer-links" data-mage-init=\'{"collapsible":{ "active": false, "animate": 200, "collapsible": true}}\' ><div data-role="title"><h4><a href="#">Contacts</a></h4></div>'.$columnSmallSize[3].'</div>'.
        '<div class="prxgt-footer-links" data-mage-init=\'{"collapsible":{ "active": false, "animate": 200, "collapsible": true}}\' ><div data-role="title"><h4><a href="#">Orders</a></h4></div>'.$columnSmallSize[4].'</div> </div>';
}

echo $html;
